platform :ios, '13.0'

use_frameworks! :linkage => :static  # Fix for module interface issue

target 'Runner' do
  flutter_install_all_ios_pods File.dirname(File.realpath(__FILE__))
  
  # Ensure all pods use static linking to avoid Swift bridging header issues
  post_install do |installer|
    installer.pods_project.targets.each do |target|
      target.build_configurations.each do |config|
        config.build_settings['IPHONEOS_DEPLOYMENT_TARGET'] = '13.0'
        config.build_settings['ENABLE_BITCODE'] = 'NO'  # Disable Bitcode if needed
        config.build_settings['BUILD_LIBRARY_FOR_DISTRIBUTION'] = 'YES' # Fix for module issue
      end
    end
  end
end
